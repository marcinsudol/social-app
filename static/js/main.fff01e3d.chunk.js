(this["webpackJsonpsocial-app"]=this["webpackJsonpsocial-app"]||[]).push([[0],Array(26).concat([function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,function(e,t,c){"use strict";c.r(t);var n=c(3),s=(c(26),c(27),c(22)),r=c(1);function i(){return Object(r.jsx)("div",{className:"loading-icon",children:Object(r.jsx)(s.a,{})})}var a=c(2),j=c.n(a),o=function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()},u=function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()};function l(e){return Object(a.useMemo)((function(){return e?new Date(e).toLocaleDateString("en-US"):null}),[e])}function d(e){var t=Object(a.useContext)(f),c=Object(a.useState)({userReaction:"",likes:0,dislikes:0}),s=Object(n.a)(c,2),r=s[0],i=s[1];return Object(a.useEffect)((function(){if(e){var c={userReaction:"",likes:0,dislikes:0};e.forEach((function(e){e.userId===t.userId&&(c.userReaction=e.type),"like"===e.type?c.likes=c.likes+1:"dislike"===e.type&&(c.dislikes=c.dislikes+1)})),i(c)}}),[e,t]),r}function b(e){var t=Object(a.useState)(null),c=Object(n.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(null),j=Object(n.a)(i,2),o=j[0],u=j[1],l=O(),d=Object(n.a)(l,3),b=d[0],f=d[1],h=d[2];return Object(a.useEffect)((function(){h("./data/users.json")}),[h]),Object(a.useEffect)((function(){if(b){var t=b.find((function(t){return t.id===e}));t?r(t):u("User does not exist")}}),[e,b]),Object(a.useEffect)((function(){f&&u("Error while fetching the data")}),[f]),[s,o]}function O(){var e=Object(a.useState)(null),t=Object(n.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(null),i=Object(n.a)(r,2),j=i[0],o=i[1],u=Object(a.useState)(new AbortController),l=Object(n.a)(u,1)[0],d=Object(a.useCallback)((function(e){s(null),o(null),fetch(e,{signal:l.signal}).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){l.signal.aborted||o(e)}))}),[l]);return Object(a.useEffect)((function(){return function(){l.abort()}}),[l]),[c,j,d]}var f=Object(a.createContext)();c(30);function h(){var e=Object(a.useState)(!1),t=Object(n.a)(e,2),c=t[0],s=t[1],j=Object(a.useContext)(f);return Object(r.jsxs)("form",{id:"login-form",onSubmit:function(e){e.preventDefault(),s(!0),j.login(1)},children:[Object(r.jsx)("label",{htmlFor:"login-username",children:"Username"}),Object(r.jsx)("input",{id:"login-username",name:"username",type:"text"}),Object(r.jsx)("label",{htmlFor:"login-password",children:"Password"}),Object(r.jsx)("input",{id:"login-password",name:"password",type:"password"}),Object(r.jsx)("button",{id:"login-button",type:"submit",children:c?Object(r.jsx)(i,{}):Object(r.jsx)("p",{children:"Log in"})})]})}function x(){return Object(r.jsxs)("div",{id:"login-page",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:"Social App"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Only Front-End part of the app"}),Object(r.jsx)("li",{children:"Mock data fetched from json files"})]})]}),Object(r.jsx)("main",{id:"login-form-container",children:Object(r.jsx)(h,{})}),Object(r.jsxs)("footer",{children:["Photo by"," ",Object(r.jsx)("a",{href:"https://unsplash.com/@marekpiwnicki?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noreferrer",children:"Marek Piwnicki"})," ","on"," ",Object(r.jsx)("a",{href:"https://unsplash.com/@marekpiwnicki?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noreferrer",children:"Unsplash"})]})]})}c(31);var m=c(7),p=c(5);function v(){var e=Object(a.useContext)(f);return Object(r.jsxs)("nav",{id:"app-header",children:[Object(r.jsxs)(p.c,{to:"/app/posts",children:[Object(r.jsx)(m.d,{}),Object(r.jsx)("span",{children:"Posts"})]}),Object(r.jsxs)(p.c,{to:"/app/friends",children:[Object(r.jsx)(m.h,{}),Object(r.jsx)("span",{children:"Friends"})]}),Object(r.jsxs)(p.c,{to:"/app/messages",children:[Object(r.jsx)(m.a,{}),Object(r.jsx)("span",{children:"Messages"})]}),Object(r.jsxs)(p.c,{to:"/app/profile",children:[Object(r.jsx)(m.i,{}),Object(r.jsx)("span",{children:"Profile"})]}),Object(r.jsxs)("button",{id:"logout-button",onClick:e.logout,children:[Object(r.jsx)(m.g,{}),Object(r.jsx)("span",{children:"Log out"})]})]})}var g=c(11),N=c(16);function k(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"grid",height:"100%",width:"100%"},children:t})}c(37);function w(){return Object(r.jsx)(k,{children:Object(r.jsxs)("div",{className:"loading-content",children:[Object(r.jsx)("i",{children:Object(r.jsx)(i,{})}),Object(r.jsx)("p",{children:"Loading"})]})})}c(38);function I(e){var t=e.error;return Object(r.jsx)(k,{children:Object(r.jsxs)("div",{className:"error-content",children:[Object(r.jsx)("h2",{children:"Error:"}),Object(r.jsx)("p",{children:t}),Object(r.jsx)(p.b,{to:"/",children:"Return to homepage"})]})})}function S(e){var t=e.children,c=e.loading,n=e.error;return c?Object(r.jsx)(w,{}):n?Object(r.jsx)(I,{error:n}):t}c(39);var C=c(24),y=c.n(C);function E(e){var t=e.user,c=e.fontSize,n=e.displayStatus,s=t.firstName[0]+t.lastName[0],i="black";return y()(t.color).getBrightness()<160&&(i="white"),Object(r.jsxs)("div",{className:"avatar-wrapper",style:{fontSize:c},children:[Object(r.jsx)("div",{className:"avatar",style:{backgroundColor:t.color,color:i},children:Object(r.jsx)("p",{"aria-hidden":!0,children:s})}),n&&"online"===t.status&&Object(r.jsx)("div",{className:"avatar-profile-status online"}),n&&"offline"===t.status&&Object(r.jsx)("div",{className:"avatar-profile-status offline"})]})}c(40),c(41);function D(e){var t=e.reactionsSummary,c=e.commentsCount,n=e.background,s=e.parentType;return Object(r.jsxs)("div",{className:"content-statistics"+(n?" background-"+n:""),children:[Object(r.jsxs)("ol",{className:"content-statistics-list",children:[!isNaN(c)&&Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:c})," ",1===c?"comment":"comments"]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:t.likes})," ",1===t.likes?"like":"likes"]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:t.dislikes})," ",1===t.dislikes?"dislike":"dislikes"]})]}),"like"===t.userReaction?Object(r.jsxs)("p",{className:"reaction-notification",children:[Object(r.jsx)(m.e,{}),"You liked this ",s]}):"dislike"===t.userReaction?Object(r.jsxs)("p",{className:"reaction-notification",children:[Object(r.jsx)(m.f,{}),"You disliked this ",s]}):null]})}c(42);function L(e){var t=e.addReaction,c=e.background;return Object(r.jsxs)("div",{className:"content-menu"+(c?" background-"+c:""),children:[Object(r.jsxs)("button",{type:"button",className:"like-button",onClick:function(e){e.preventDefault(),t("like")},children:[Object(r.jsx)(m.e,{}),"Like"]}),Object(r.jsxs)("button",{type:"button",className:"dislike-button",onClick:function(e){e.preventDefault(),t("dislike")},children:[Object(r.jsx)(m.f,{}),"Dislike"]})]})}c(43);function R(e){var t=e.comment,c=Object(a.useState)(t.reactions),s=Object(n.a)(c,2),i=s[0],j=s[1],o=Object(a.useContext)(f),u=d(i),b=l(t.createdAt),O=Object(a.useCallback)((function(e){if(u.userReaction!==e){var c=[];c=u.userReaction?i.filter((function(e){return e.userId!==o.userId})):Object(g.a)(i);var n={id:Date.now(),commentId:t.id,userId:o.userId,type:e};c.push(n),j(c)}}),[t,i,u,o]);return Object(r.jsxs)("div",{className:"comment",children:[Object(r.jsx)("div",{className:"comment-avatar",children:Object(r.jsx)(E,{user:t.user})}),Object(r.jsxs)("div",{className:"comment-body",children:[Object(r.jsx)("p",{className:"comment-date",children:b}),Object(r.jsx)("p",{className:"comment-content",children:t.content})]}),Object(r.jsx)("div",{className:"comment-statistics",children:Object(r.jsx)(D,{reactionsSummary:u,parentType:"comment"})}),Object(r.jsx)("div",{className:"comment-menu",children:Object(r.jsx)(L,{addReaction:O})})]})}c(44);function A(e){var t=e.inputLabel,c=e.buttonLabel,n=e.rows,s=e.submit,i=e.focusOnMount,j=e.focusOnRender,o=e.focusAfterSubmit,u=e.escapeKeyCallback,l=Object(a.useRef)(),d=Object(a.useCallback)((function(e){e.preventDefault();var t=l.current.value.trim();t&&(s(t),l.current.value="",o&&l.current.focus())}),[s,o]),b=Object(a.useCallback)((function(e){e.preventDefault(),u&&""===e.target.value&&"Escape"===e.key&&u()}),[u]);return Object(a.useEffect)((function(){i&&l.current.focus()}),[i]),Object(a.useEffect)((function(){j&&l.current.focus()})),Object(a.useEffect)((function(){l.current.value=""}),[s]),Object(r.jsxs)("form",{className:"input-form",onSubmit:d,children:[isNaN(n)?Object(r.jsx)("input",{ref:l,onKeyUp:b,"aria-label":t}):Object(r.jsx)("textarea",{rows:n,ref:l,onKeyUp:b,"aria-label":t}),Object(r.jsx)("button",{type:"submit",children:c||"Submit"})]})}c(45);function T(e){var t=e.comments,c=e.addComment,s=Object(a.useState)(!1),i=Object(n.a)(s,2),j=i[0],o=i[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"comments-menu",children:j?Object(r.jsx)(A,{buttonLabel:"Add comment",rows:"2",submit:function(e){c(e),o(!1)},focusOnMount:!0,escapeKeyCallback:function(){o(!1)}}):Object(r.jsx)("button",{type:"button",className:"new-comment-button",onClick:function(e){e.preventDefault(),o(!0)},children:"Add new Comment"})}),Object(r.jsx)("h3",{className:"comments-header",children:t.length>0?"Latest comments":"No comments"}),Object(r.jsx)("ol",{className:"comments-list",children:t.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(R,{comment:e})},e.id)}))})]})}c(46);function U(e){var t=e.buttonLabel,c=e.children,s=Object(a.useState)(!1),i=Object(n.a)(s,2),j=i[0],o=i[1],u=Object(a.useRef)(),l=Object(a.useCallback)((function(){o(!1)}),[]);return Object(a.useEffect)((function(){var e=u.current;return e.addEventListener("mouseleave",l),function(){e.removeEventListener("mouseleave",l)}}),[l]),Object(r.jsxs)("div",{className:"dropdown-menu",ref:u,children:[Object(r.jsx)("button",{"aria-label":t,onClick:function(e){e.preventDefault(),o(!0)},children:Object(r.jsx)(m.c,{})}),j&&Object(r.jsx)("ol",{children:c.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))})]})}function M(e){var t=e.post,c=Object(a.useState)(t.reactions),s=Object(n.a)(c,2),i=s[0],j=s[1],o=Object(a.useState)(t.comments),u=Object(n.a)(o,2),b=u[0],O=u[1],h=Object(a.useContext)(f),x=d(i),m=l(t.createdAt),v=Object(a.useCallback)((function(e){if(x.userReaction!==e){var c=[];c=x.userReaction?i.filter((function(e){return e.userId!==h.userId})):Object(g.a)(i);var n={id:Date.now(),postId:t.id,userId:h.userId,type:e};c.push(n),j(c)}}),[t,i,x,h]),k=Object(a.useCallback)((function(e){var c=[{id:Date.now(),content:e,createdAt:(new Date).toUTCString(),postId:t.id,userId:h.userId,user:Object(N.a)({},h.user),reactions:[]}].concat(Object(g.a)(b));O(c)}),[t,b,h]);return Object(r.jsxs)("div",{className:"post",children:[Object(r.jsxs)("div",{className:"post-header",children:[Object(r.jsx)("div",{className:"post-avatar",children:Object(r.jsx)(E,{user:t.user,fontSize:"1.2em"})}),Object(r.jsx)("h2",{className:"post-header-text",children:t.user.firstName+" "+t.user.lastName}),Object(r.jsxs)(U,{buttonLabel:"User's menu",children:[Object(r.jsx)(p.b,{to:"/app/friends/"+t.userId,children:"Go to profile"}),Object(r.jsx)(p.b,{to:"/app/messages/"+t.userId,children:"Start conversation"})]})]}),Object(r.jsxs)("div",{className:"post-body",children:[Object(r.jsx)("p",{className:"post-date",children:m}),Object(r.jsx)("p",{className:"post-content",children:t.content})]}),Object(r.jsx)("div",{className:"post-statistics",children:Object(r.jsx)(D,{reactionsSummary:x,commentsCount:b.length,parentType:"post"})}),Object(r.jsx)("div",{className:"post-menu",children:Object(r.jsx)(L,{addReaction:v})}),Object(r.jsx)("div",{className:"post-comments",children:Object(r.jsx)(T,{comments:b,addComment:k})})]})}function P(e){var t=e.children;return Object(r.jsx)("div",{className:"sr-only",style:{position:"absolute",left:"-10000px",top:"auto",height:"1px",width:"1px",overflow:"hidden"},children:t})}c(47);function F(){var e=Object(a.useState)(null),t=Object(n.a)(e,2),c=t[0],s=t[1],i=Object(a.useContext)(f),j=function(){var e=O(),t=Object(n.a)(e,3),c=t[0],s=t[1],r=t[2],i=O(),j=Object(n.a)(i,3),o=j[0],l=j[1],d=j[2],b=O(),f=Object(n.a)(b,3),h=f[0],x=f[1],m=f[2],p=O(),v=Object(n.a)(p,3),g=v[0],N=v[1],k=v[2],w=O(),I=Object(n.a)(w,3),S=I[0],C=I[1],y=I[2],E=Object(a.useState)(null),D=Object(n.a)(E,2),L=D[0],R=D[1],A=Object(a.useState)(null),T=Object(n.a)(A,2),U=T[0],M=T[1];return Object(a.useEffect)((function(){r("./data/posts.json")}),[r]),Object(a.useEffect)((function(){d("./data/comments.json")}),[d]),Object(a.useEffect)((function(){m("./data/post-reactions.json")}),[m]),Object(a.useEffect)((function(){k("./data/comment-reactions.json")}),[k]),Object(a.useEffect)((function(){y("./data/users.json")}),[y]),Object(a.useEffect)((function(){if(c&&o&&h&&g&&S){var e=c.sort(u);e.forEach((function(e){e.user=S.find((function(t){return t.id===e.userId})),e.reactions=h.filter((function(t){return t.postId===e.id}));var t=o.filter((function(t){return t.postId===e.id})).sort(u);t.forEach((function(e){e.user=S.find((function(t){return t.id===e.userId})),e.reactions=g.filter((function(t){return t.commentId===e.id}))})),e.comments=t})),R(e)}}),[c,o,h,g,S]),Object(a.useEffect)((function(){(s||l||x||N||C)&&M("Error while fetching the data")}),[s,l,x,N,C]),[L,U]}(),o=Object(n.a)(j,2),l=o[0],d=o[1];Object(a.useEffect)((function(){l&&s(l)}),[l]);var b=Object(a.useCallback)((function(e){if(c&&i.user){var t=[{id:Date.now(),content:e,userId:i.userId,user:Object(N.a)({},i.user),createdAt:(new Date).toUTCString(),reactions:[],comments:[]}].concat(Object(g.a)(c));s(t)}}),[i,c]),h=Object(a.useMemo)((function(){return d?"Error fetching data":null}),[d]);return Object(r.jsx)(k,{children:Object(r.jsx)(S,{loading:!c&&!h,error:h,children:Object(r.jsx)("div",{id:"posts-wrapper",children:Object(r.jsxs)("div",{id:"posts",children:[Object(r.jsx)(P,{children:Object(r.jsx)("h1",{children:"Posts"})}),Object(r.jsx)("div",{id:"new-post-form",children:Object(r.jsx)(A,{inputLabel:"New post",buttonLabel:"Publish",rows:"3",submit:b})}),Object(r.jsx)("ol",{id:"posts-list",children:c?c.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(M,{post:e})},e.id)})):null})]})})})})}c(48);function _(e){var t=e.user;return Object(r.jsx)(p.b,{to:"/app/friends/".concat(t.id),children:Object(r.jsxs)("div",{className:"friend-card",children:[Object(r.jsx)("div",{className:"friend-avatar",children:Object(r.jsx)(E,{user:t,fontSize:"2em",displayStatus:!0})}),Object(r.jsx)("div",{className:"friend-info",children:Object(r.jsx)("p",{children:t.firstName+" "+t.lastName})})]})})}c(49);function z(){var e=O(),t=Object(n.a)(e,3),c=t[0],s=t[1],i=t[2],j=Object(a.useState)(""),o=Object(n.a)(j,2),u=o[0],l=o[1],d=Object(a.useState)(),b=Object(n.a)(d,2),f=b[0],h=b[1];return Object(a.useEffect)((function(){i("./data/friends.json")}),[i]),Object(a.useEffect)((function(){if(c)if(u){var e=c.filter((function(e){return-1!==(e.firstName.toUpperCase()+" "+e.lastName.toUpperCase()).search(u.toUpperCase())}));h(e)}else h(c)}),[c,u]),Object(r.jsx)(k,{children:Object(r.jsx)(S,{loading:!c&&!s,error:s,children:Object(r.jsxs)("div",{id:"friends-list",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:"Friends"}),Object(r.jsx)("div",{id:"find-friend-input",children:Object(r.jsx)(A,{inputLabel:"Friend's name",buttonLabel:"Find",submit:function(e){l(e)}})})]}),u&&Object(r.jsxs)("button",{id:"remove-pattern-button",onClick:function(){l("")},"aria-label":"Remove filter",children:[Object(r.jsx)(m.b,{}),u]}),f?Object(r.jsx)("div",{id:"friends-cards",children:f.map((function(e){return Object(r.jsx)(_,{user:e},e.id)}))}):null]})})})}c(50);function B(e){var t=e.label,c=e.value;return Object(r.jsxs)("div",{className:"profile-statistic-card",children:[Object(r.jsxs)("h2",{className:"card-label",children:[t,":"]}),Object(r.jsx)("p",{className:"card-value",children:c})]})}c(51);function K(e){var t=e.status;return Object(r.jsx)("p",{className:"profile-status "+t,children:t})}c(52);function J(e){var t=e.userId,c=b(t),s=Object(n.a)(c,2),i=s[0],j=s[1],o=Object(a.useContext)(f),u=Object(a.useMemo)((function(){return t===o.userId}),[t,o]);return Object(r.jsx)(k,{children:Object(r.jsx)(S,{loading:!i&&!j,error:j,children:i?Object(r.jsx)("div",{id:"profile-wrapper",children:Object(r.jsxs)("div",{id:"profile",children:[Object(r.jsx)("div",{id:"profile-avatar",children:Object(r.jsx)(E,{user:i,fontSize:"5em"})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{id:"profile-info",children:[Object(r.jsxs)("div",{id:"profile-header",children:[Object(r.jsx)("h1",{className:"display-name",children:i.firstName+" "+i.lastName}),Object(r.jsx)(K,{status:i.status})]}),Object(r.jsx)("p",{children:i.info})]}),Object(r.jsxs)("div",{id:"profile-statistics",children:[Object(r.jsx)(B,{label:"Friends",value:136}),Object(r.jsx)(B,{label:"Posts",value:342}),Object(r.jsx)(B,{label:"Comments",value:752})]}),!u&&Object(r.jsx)(p.b,{id:"open-conversation-button",to:"/app/messages/".concat(t),children:"Open conversation"})]})]})}):null})})}var Y=c(4);function G(){var e=Object(Y.g)().friendId;return Object(r.jsx)(J,{userId:Number(e)})}c(53);function q(e){var t=e.friend,c=e.message,n=Object(a.useContext)(f),s=l(c.createdAt),i=c.userId===n.userId?"sent":"received";return Object(r.jsxs)("div",{className:"message "+i,children:["received"===i&&Object(r.jsx)("div",{className:"message-avatar",children:Object(r.jsx)(E,{user:t})}),Object(r.jsxs)("div",{className:"message-body",children:[Object(r.jsx)("p",{className:"message-content",children:c.content}),Object(r.jsx)("p",{className:"message-date",children:s})]})]})}c(54);function H(e){var t=e.friendId,c=e.scrollToBottom,s=Object(a.useState)(null),i=Object(n.a)(s,2),j=i[0],u=i[1],l=Object(a.useContext)(f),d=b(t),h=Object(n.a)(d,2),x=h[0],m=h[1],p=function(e){var t=Object(a.useState)(null),c=Object(n.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)(null),j=Object(n.a)(i,2),u=j[0],l=j[1],d=Object(a.useContext)(f),b=O(),h=Object(n.a)(b,3),x=h[0],m=h[1],p=h[2];return Object(a.useEffect)((function(){p("./data/messages.json")}),[p]),Object(a.useEffect)((function(){if(x){var t=x.filter((function(t){return t.userId===d.userId&&t.friendId===e||t.userId===e&&t.friendId===d.userId})).sort(o);r(t),l(null)}}),[d,e,x]),Object(a.useEffect)((function(){m&&l("Error while fetching the data")}),[m]),[s,u]}(t),v=Object(n.a)(p,2),N=v[0],w=v[1];Object(a.useEffect)((function(){N&&u(N)}),[N]);var I=Object(a.useCallback)((function(e){var c={id:Date.now(),userId:l.userId,friendId:t,content:e,createdAt:(new Date).toUTCString()},n=[].concat(Object(g.a)(j),[c]);u(n)}),[l,t,j]);Object(a.useEffect)((function(){c&&c()}),[j,c]);var C=Object(a.useMemo)((function(){return m||w?"Error fetching data":null}),[m,w]),y=Object(a.useMemo)((function(){return!x&&!j&&!C}),[x,j,C]);return Object(r.jsx)(k,{children:Object(r.jsx)(S,{loading:y,error:C,children:x&&j?Object(r.jsxs)("div",{id:"conversation",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:x.firstName+" "+x.lastName}),Object(r.jsx)(K,{status:x.status})]}),Object(r.jsx)("ol",{id:"messages-list",children:j.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(q,{friend:x,message:e})},e.id)}))}),Object(r.jsx)("div",{id:"new-message-form",children:Object(r.jsx)(A,{inputLabel:"New message",buttonLabel:"Send",rows:"2",submit:I,focusOnRender:!0,focusAfterSubmit:!0})})]}):null})})}c(55);function Q(){var e=O(),t=Object(n.a)(e,3),c=t[0],s=t[1],i=t[2];return Object(a.useEffect)((function(){i("./data/friends.json")}),[i]),Object(r.jsx)(S,{loading:!c&&!s,children:c?Object(r.jsx)("nav",{id:"friend-selector","aria-label":"Friend selector",children:c.map((function(e){return Object(r.jsxs)(p.b,{to:"/app/messages/".concat(e.id),children:[Object(r.jsx)(E,{user:e,fontSize:"1.6em",displayStatus:!0}),Object(r.jsx)("p",{className:"friend-name",children:e.firstName+" "+e.lastName})]},e.id)}))}):null})}c(56);function V(){var e=Object(Y.g)().friendId,t=Object(a.useRef)(),c=e?"conversation-view":"contacts-view",n=Object(a.useCallback)((function(){t.current.scrollTo(0,1e4)}),[t]);return Object(r.jsxs)("div",{id:"messages",className:c,children:[Object(r.jsx)("div",{id:"selector-wrapper",children:Object(r.jsx)(Q,{})}),Object(r.jsx)("div",{id:"conversation-wrapper",ref:t,children:e?Object(r.jsx)(H,{friendId:Number(e),scrollToBottom:n}):Object(r.jsx)(k,{children:Object(r.jsx)("div",{id:"conversation-pane",children:Object(r.jsx)("h1",{children:"Select contact to start conversation"})})})})]})}function W(){var e=Object(Y.h)(),t=Object(a.useContext)(f);return Object(r.jsxs)(Y.d,{children:[Object(r.jsx)(Y.b,{path:"".concat(e.path,"/posts"),children:Object(r.jsx)(F,{})}),Object(r.jsx)(Y.b,{path:"".concat(e.path,"/friends/:friendId"),children:Object(r.jsx)(G,{})}),Object(r.jsx)(Y.b,{path:"".concat(e.path,"/friends"),children:Object(r.jsx)(z,{})}),Object(r.jsx)(Y.b,{path:"".concat(e.path,"/messages/:friendId"),children:Object(r.jsx)(V,{})}),Object(r.jsx)(Y.b,{path:"".concat(e.path,"/messages"),children:Object(r.jsx)(V,{})}),Object(r.jsx)(Y.b,{path:"".concat(e.path,"/profile"),children:Object(r.jsx)(J,{userId:t.userId})}),Object(r.jsx)(Y.a,{exact:!0,from:e.path,to:"".concat(e.path,"/posts")}),Object(r.jsx)(Y.b,{path:"*",children:Object(r.jsx)(I,{error:"Page does not exist"})})]})}c(57);function X(){return Object(r.jsxs)("div",{id:"app-page",children:[Object(r.jsx)(v,{}),Object(r.jsx)("main",{children:Object(r.jsx)(W,{})})]})}function Z(e){var t=e.children;return Object(r.jsx)("div",{style:{display:"grid",height:"100vh",width:"100vw"},children:t})}c(58);function $(){var e=function(){var e=Object(a.useState)(!1),t=Object(n.a)(e,2),c=t[0],s=t[1],r=b(c),i=Object(n.a)(r,1)[0],j=Object(a.useMemo)((function(){return!!c}),[c]);return[c,i,j,function(e){setTimeout((function(){s(e)}),500)},function(){setTimeout((function(){s(null)}),500)}]}(),t=Object(n.a)(e,5),c=t[0],s=t[1],i=t[2],j=t[3],o=t[4];return Object(r.jsx)(f.Provider,{value:{userId:c,user:s,logged:i,login:j,logout:o},children:Object(r.jsx)(p.a,{children:Object(r.jsxs)(Y.d,{children:[i?Object(r.jsx)(Y.a,{from:"/login",to:"/app"}):Object(r.jsx)(Y.a,{from:"/app",to:"/login"}),Object(r.jsx)(Y.b,{path:"/login",children:Object(r.jsx)(x,{})}),Object(r.jsx)(Y.b,{path:"/app",children:Object(r.jsx)(X,{})}),Object(r.jsx)(Y.b,{exact:!0,path:"/",children:i?Object(r.jsx)(Y.a,{from:"/",to:"/app"}):Object(r.jsx)(Y.a,{from:"/",to:"/login"})}),Object(r.jsx)(Y.b,{path:"*",children:Object(r.jsx)(Z,{children:Object(r.jsx)(I,{error:"Page does not exist"})})})]})})})}var ee=c(25);c.n(ee).a.render(Object(r.jsx)(j.a.StrictMode,{children:Object(r.jsx)($,{})}),document.getElementById("root"))}]),[[62,1,2]]]);
//# sourceMappingURL=main.fff01e3d.chunk.js.map